***
需求
Q：命题：学生认证校验逻辑、安全及拉新

说明：
1、越来越多的场合需要学生完成学生身份认证，从而为其提供更好的服务，如何完善学生认证校验逻辑（简便快捷），给学生带来流畅的认证体验，同时又能使用户感受到产品的安全性。
2、学生认证：支持高中及以上学历学生进行学生信息认证（含职专技校等均属于学生范畴），高中、职高技校等学生无学籍信息查询；
3、拉新：如何覆盖更多学校让更多学生来京东完成学生认证并获取学生专属权益；
***
## Main point
  1. 新学生用户认证机制
  2. 新用户身份置信度提升
  3. 高置信度用户拉新奖励机制
  4. 用户标识机制
  5. 问题和解决方案
***
Updated:2018/11/17 21:45
# 认证校验逻辑与安全
# 目录
1. [参与主体：学生](#学生)
    1. [本科生认证](#本科生)
        1. [新生认证](#本科新生)
        2. [在读学生认证](#本科在读)
    2. [硕士、博士认证](#硕士、博士)
    3. [高中认证](#高中生)
    4. [无学籍学生认证](#无学籍生) **(亮点)**
2. [认证流程](#认证流程)
3. ["学生分"机制](#学生分机制) **(亮点)**
4. [用户邀请机制](#用户邀请机制) **(亮点)**
5. [标记系统](#标记系统) **(亮点)**
6. [问题和解决方案](#问题和解决方案)
> - 约定 \
> 有"[ ]"符号包括的项为可选项 \
> 同一项中由"/"符号隔开的项满足其一即可
# 参与主体
## 学生
- 基本信息
    - 被绑定京东账号 
    - 姓名
    - 身份证号
    - 面部数据
    - 学校类型[高中、本科、硕博、其他]
    - 学校地理位置
    - 学校名称
    - 认证起始日期
    - 认证结束日期
    - [教育邮箱] (非必须项)
- 动态数据
    - “学生分”（后附[学生分机制](#学生分机制)） 
    - “学生分”历史记录
    - 学生商城购买记录
    - 学生优惠券记录
## 本科生
### 本科新生
- 认证信息
    - 高考准考证号
    - 高考准考证/成绩单图像认证
        >为了能 ***尽可能早的完成新生注册抢占新生入口资源*** 可考虑在高考完之后直接用准考证先行认证让新生先加入京东学生认证体系、在录取通知书收到后再补登记学生的高校信息（期间提供一个有效期到开学季e.g.9月1日）的**临时认证**
    - 录取高校录取通知书图像认证
        > 在收取到高校的录取通知书后，新生可以完成正式认证（无论之前是否完成了准考证/成绩单认证）账户有效期提升到该学籍结束为止
### 本科在读
- 认证信息
    - 学信网查询（后台完成）
    - 教育邮箱认证
## 硕士、博士
- 认证信息
    - 学信网查询（后台完成）
    - 教育邮箱认证
## 高中生
- 认证信息
    - 学生证/学校录取通知书
    - 教育邮箱认证
	> 没有教育邮箱的高中生按[无学籍生](#无学籍生)认证
## 无学籍生
>（无法查询学籍的学生：高中、职专技校等学生无学籍信息亦无教育邮箱的学生认证）
- 认证信息
	- 中/高考准考证认证/学生证认证/学校人工认证（邀请码）
	> 对于没有可查询的学籍信息也没有教育邮箱的学生
	> - 准考证：拍摄准考证图像人工认证（可与相应教育机构（市级/省考试院获取验证接口））
	> - 学生证：拍摄学生证图像人工认证 （可与相应教育机构获取验证接口）
	> - 学校人工认证：对于没有办法完成上述任何认证办法的学生，可给该校京东俱乐部提供一个审核账号，学生选择学校人工认证然后由其工作人员人工确认
 # 学生分机制
 > 学生分是一种对学生账号的质量评估机制，它可以作为学生购买力，征信系统和认证系统
 -  概述：面临的问题和解决
    >面对复杂的认证问题，简单的二元分类已经难以满足认证的需要，为此我们引入了“学生分”机制，它能动态的跟踪用户的身份置信度和其他行为，也能为其他机制提供量化用户质量的基础。
 -  学生分等级：置信度量化方案
    >在我们目前的方案下，我们将用户“学生分”分为三个等级，0~299（不准入等级）、300~399（普通学生用户）、400~499（高置信度学生用户）。在用户“学生分”处于不准入等级时，将暂停学生权益处于“冻结期”；用户“学生分”处于普通学生用户等级时，用户拥有正常的学生权益但是没有认证其他用户的权力；用户“学生分”处于高置信度等级时，用户具有更高的学生权益并能够辅助认证其他学生的权力。
 -  学生分奖惩机制：用户置信度矫正与更新
    >为了动态跟踪学生的行为，我们提供了一组更新策略（部分行为在后续章节会做解释）。\
    *用户基准分0分，从注册开始之时开始执行*

    |事件、行为、状态|分数操作|时效|
    |:----------------|----------:|----:|
    |学生[基本信息](#学生)注册|$+5$|$+\infin$|
    |学生基本信息失效|{不高于$299$}*|$+\infin$|
    |学生附加信息完善|$+10$|$+\infin$|
    |学生附加信息失效|$-10$|$+\infin$|
    |学信网认证生成|$+300$/$+5$**|学籍有效时限|
    |高校录取通知书（高考结束后开放申请通道）|$+300$/$+5$**|学籍有效时限|
    |教育邮箱认证|$+300$/$+5$**|学籍有效时限|
    |学生证认证|$+300$/$+5$**|学籍有效时限|
    |准考证号/成绩单号(高考结束后开放申请通道)|$+300$/$+5$**|当年开学季前(9月1日)|
    |学校人工认证|$+300$/$+5$**|该学年有效|
    |同时满足三个高置信度同校生认证（只能认证本校）|$+300$|学籍有效时限|
    |高置信度学生辅助认证|{最高$+20$}$+5$/人|该学年有效|
    |被认证/标记学生账户学生分低于220|$-10$/人|三个自然年有效|
    |被认证/标记学生账户学生分低于200|$-30$/人|三个自然年有效|
    |被认证/标记学生账户学生分高于300|{不高于$+20$}$+1/人$|一个自然年有效|
    |当月正常购买（购买物品与普通学生相仿）|$+10$|一个自然年有效|
    |非正常购买（大量重复购买同一/类似商品收货地址异常/购买行为与普通学生偏差较大）|$-20$~$-50$***|一个自然年有效|
    |出现非学生证据（举报、证伪等）出现违规购买|{不高于$+100$}~封号***|$+\infin$|
    |[他人标记](#标记系统)|{-100<=n<=10>}+n****|一个自然年有效|
    |人工管理操作*****|人工操作|人工操作|

    > 时限说明：
    > - $+\infin$:被特殊原因撤销前永久有效
    > - 其他时限：符合条件时叠加有效不符合条件或超过时失效

    >\* ：处于“{}”符号之间的描述为强制限制；\
    >\*\* ：标有**的项目如果同时生效多个，只有一个+300，其余+5；\
    >\*\*\*：视情节严重程度裁量；\
    >\*\*\*\*：由标记系统模块给出；\
    >\*\*\*\*\*：由系统管理员裁量；

# 认证流程
1. 注册京东账号；
2. 学生发起学生认证:
   >主动从个人信息申请【京东金融首页】-【白条】-【校园金融】-【校园特权】-【认证获得学生特权】，点击他人的邀请链接）
3. 基本信息完善
   >选择学生身份、获得对应申请表格、选择自己能够认证的选项进行填写
4. 辅助信息认证[可选，推荐]
   >添加高置信度用户生成的辅助码 **(亮点)**
5. 判断用户置信度是否达到准入标准，给与是否给与学生认证的操作
# 用户邀请机制
- 效用和功能：为了提升认证的可信度，帮助缺少其他信息的用户能够更快捷加入并被准确识别，提升拉新能力，我们引入了用户邀请机制利用高信任度学生用户的信任“担保”,为了防止高信任度用户滥用权力为非学生账号我们引入了罚分机制，(详见[学生分机制](#学生分机制)),只要出现了一定量的不良账号就会面临着长期的权益衰减（降级至暂停学生认证），相应的，为了鼓励同学之间的相互推荐传播（**拉新**），如果被推荐用户成为了高置信度用户，我们会相应的提升推荐用户的学生分，并且赠送一定额度的红包之类的福利作为驱动。
- 场景：
    1. 相互熟悉的朋友、同学、室友之间的安利；（可跨校传播）
    2. 校内购物群、二手群等购物置换群的分享邀请码，吸引群内用户（一般而言该群内的成员有较强的购买力属于良好的潜在用户）（类似淘宝双十一疯狂分享拉人气链接）
# 标记系统
   1. 对于部分活跃用户（高置信度学生群体内），我们让他们对在同一地理区域的学生（疑似同学的）分不高的学生进行识别，和用户邀请机制相同，我们引入了同样的奖惩机制。（对被标记的学生没有奖励，但是如果一个用户被多次标记为非学生账户的进行人工核查）,为了防止“黄牛”号对正常账号进行大量认证而导致“黄牛”号的置信度提升和“黄牛”号被识别后对正常账号的误伤，我们要求所有的推荐和标记认证必须由双方均同意以保证不会产生一方非自愿的认证关系
# 问题和解决方案
1. 假假证明
   
   Q:
   >一些“黄牛”利用特殊手段“洗白”若干假账号并相互认证达到锁定无学籍认证的账户安全认证的目的。

   A:
   >直接的相互洗白从一开始就由于需要高置信度认证（至少需要四个月）而导致“黄牛”养成大量坏账户成本过高而达到阻断目的。\
   >借助正常用户作为“跳板”的情形下，由于“黄牛”不可能找到比“坏账号”多数量级的真实账号作为“跳板”（成本过高），所以改临近区域内坏帐号的比例比正常账号区域内的坏帐号的比例明显高，查到坏帐号时若发现其邻域内坏帐号比例高于一定值之后（该值在生产环境中动态调整）可以认定该领域内有“黄牛”，即可进行清理账号达到阻断的目的。

2. 惩罚链问题
   
   Q:
    >我们的用户邀请机制是树状结构；当子节点产生坏行为时（证明为伪）这时候产生了其父节点，兄弟节点以及子节点的置信度更新问题；改置信度变动会产生递归影响，以及在一些特殊的conercase中产生的临近坏节点难以标识的困难。

    A:
    >我们通过阶梯式收敛罚分策略将惩罚阶段化保证收敛效果。\
    >用户标识功能和用户推荐功能是双方确认的，如果出现坏账户通过一些手段通过大量正常账户获得洗白而被查证的，正常账户也会收到惩罚（学生分降低导致该账户在一段时间内无法继续享受高权益和认证功能而导致自身利益受损）
    >TODO...
3. 在保持高安全性的情况下对拉新能力的提升

    Q:
    >拉新：提升利益意味着“黄牛”行为的获利能力提升而提升“黄牛”行为可承受成本的身高，对认证的有效性产生威胁。

    A:
    >在学生分的设定上，我们限定了一个新注册的账号即使注册了所有认证选项每个月都进行正常交易，四个月内也无法拿到认证其他账户的权限（高置信用户权限）即使四个月之后账号开始“黄牛”活动，期间获取的利润也无法填补四个月“养号”的成本，从根源上阻断了“黄牛”的盈利空间。阻断了培养一个“洗白号”的盈利空间。

4. 对一些信息的处理问题
   
   Q:
   >对一些其他情况的说明判定
   
   A:
   >除了上述机制之外，我们还会对已有信息做出其他分析辅助判断
   > * 身份证认证是必备条件；身份证上记录了户籍地、生日、性别信息、可以按身份证核验其姓名、中国大陆地区的手机号也已经全面实名化；通过身份证上的信息和用户输入的姓名、手机号、学校及学校地址、性别做一致性量化，该量化分值可以佐助用户申请学生认证的可信度；
   > * 对于已经使用了一段的京东账户（未进行学生认证），可以分析其历史购物记录的购买商品的种类，收货地来辅助判定。
